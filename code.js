var aa=!0,ba,ca,da=!1,b=null,ea,c=!1,d=0,fa;if(void 0!=document.getElementById("user_tag"))var ha=document.getElementById("user_tag").innerText;for(var ia=document.getElementsByClassName("text ulpt"),ja=0;ja<ia.length;ja++)fa=ia[ja].innerText.split(" ")[0],ha==fa&&(d=1);
if(1==d){if(void 0==document.getElementsByClassName("game__tournament")[0]){var ka=document.getElementsByClassName("game__meta__infos")[0];void 0!=ka&&("{"==ka.dataset.icon?(d=1,c=!0):d=0)}if(1==d){var e=function(){return void 0==document.getElementsByClassName("rclock running")[0]&&void 0==document.getElementsByClassName("rclock emerg")[0]&&void 0==document.getElementsByClassName("result")[0]?!0:!1},la=function(){if(c){g=document.getElementById("topC0").innerText.slice(3,5);h=document.getElementById("botC0").innerText.slice(3,
5);k=document.getElementById("topC0").innerText.slice(6,7);l=document.getElementById("botC0").innerText.slice(6,7);var a=h+l/10;return 14.7<g+k/10&&14.7<a?!0:!1}},va=function(a){if(!ma&&(e()||c&&la())){if(m=n.contentDocument||n.contentWindow.document,void 0!=m.getElementsByClassName("mchat__messages")[0]&&(p=m.getElementsByClassName("mchat__messages")[0].innerText,q=p.search(na),-1!=q)){if(c){r=document.createElement("div");t=document.createElement("div");oa.insertBefore(r,v.nextSibling);pa.insertBefore(t,
w.nextSibling);r.innerHTML='<div class="time" id="topC" title="white clock">00<sep>:</sep>07<tenths><sep>.</sep>5</tenths></div>';t.innerHTML='<div class="time" id="botC" title="white clock">00<sep>:</sep>07<tenths><sep>.</sep>5</tenths></div>';v=document.getElementById("topC0");w=document.getElementById("botC0");v.style.display="none";w.style.display="none";r=document.getElementById("topC");t=document.getElementById("botC");x.type="text/css";y.type="text/css";qa.type="text/css";x.innerHTML=".rclock .bar {background: #c33;}";
document.getElementsByTagName("head")[0].appendChild(x);document.getElementsByTagName("head")[0].appendChild(y);document.getElementsByTagName("head")[0].appendChild(qa);var f=document.querySelectorAll("script")[3].textContent;f=f.substr(f.indexOf('rated"'),8);qa.innerHTML="f"==f.charAt(7)?'.setup { text-indent: -9999px; line-height: 0; } .setup::after { content: "\u215b+0 \u2022 Casual \u2022 NanoBullet"; text-indent: 0; display: block; line-height: initial; }':'.setup { text-indent: -9999px; line-height: 0; } .setup::after { content: "\u215b+0 \u2022 Rated \u2022 NanoBullet"; text-indent: 0; display: block; line-height: initial; }';
void 0!=ra&&null!=ra&&void 0!=sa&&null!=sa&&(ta.observe(ra,ua),ta.observe(sa,ua))}else z();clearInterval(a);ma=!0}}else clearInterval(a),ma=!0},wa=function(){if(!A&&(e()||c&&la())){A=!0;va(a);var a=setInterval(function(){va(a)},50)}},xa=function(){m=n.contentDocument||n.contentWindow.document;B=m.getElementsByClassName("mchat__say")[0];console.log("afasdf");void 0!=B&&(B.value=C,console.log("OOOOOOOO"),B.dispatchEvent(D),m=n.contentDocument||n.contentWindow.document,void 0!=m.getElementsByClassName("mchat__messages")[0]&&
(p=m.getElementsByClassName("mchat__messages")[0].innerText,q=p.search(C),console.log("q"),-1!=q&&(A||wa(),aa=!1)));if(aa){console.log("afasdf");var a=!1,f=setInterval(function(){!a&&e()||clearInterval(f);e()&&!a&&(m=n.contentDocument||n.contentWindow.document,B=m.getElementsByClassName("mchat__say")[0],void 0!=B&&(B.value=C,console.log("OOOOOOOO"),B.dispatchEvent(D),console.log("e"),m=n.contentDocument||n.contentWindow.document,void 0!=m.getElementsByClassName("mchat__messages")[0]&&(p=m.getElementsByClassName("mchat__messages")[0].innerText,
q=p.search(C),console.log("w"),-1!=q&&(A||wa(),clearInterval(f),a=!0))))},50)}},J=function(){E&&!c?(G.innerHTML="Sent..",G.style.backgroundColor="lightgreen"):e()&&void 0!=H&&""!=H&&void 0!=I&&""!=I&&(C=ya+"|"+I+".",xa(),G.innerHTML="Sent..",G.style.backgroundColor="lightgreen",G.removeEventListener("click",J),K("current",H),L=!1,c||za())},z=function(){void 0!=document.getElementsByClassName("fbt go-berserk")[0]&&(document.getElementsByClassName("fbt go-berserk")[0].click(),clearInterval(Aa),clearInterval(b))},
za=function(){ea=document.getElementsByClassName("rclock rclock-top")[0];b||(clearInterval(b),b=setInterval(function(){da&&clearInterval(b);void 0!=ea.getElementsByClassName("berserked top")[0]&&(clearInterval(b),clearInterval(Aa),z());e()||(void 0!=ea.getElementsByClassName("bar berserk")[0]&&(clearInterval(Aa),z()),da=!0)},50))},M=function(a){a+="=";for(var f=decodeURIComponent(document.cookie).split(";"),u=0;u<f.length;u++){for(var F=f[u];" "==F.charAt(0);)F=F.substring(1);if(0==F.indexOf(a))return decodeURIComponent(F.substring(a.length,
F.length))}return""},K=function(a,f){var u=new Date;u.setTime(u.getTime()+864E8);document.cookie=a+"="+f+";expires="+u.toUTCString()+";path=/"},m,n=document.createElement("iframe");n.setAttribute("src","https://lichess.org/study/MjObcRkT");document.body.appendChild(n);n.id="iframe";var B,p,D=document.createEvent("Event");D.initEvent("keypress");D.which=D.keyCode=13;m=n.contentDocument||n.contentWindow.document;var Ba=document.querySelectorAll("cg-board")[0],Ca,Da,N,L=!0,C,ya,Ea=M("current"),Aa=null,
O,E,P,H=window.location.href,q,ma=!1,A=!1,Fa=$(".cg-wrap")[0],Q,I;Q=$("div.clock_white");Q=Q.length?Q[0]:null;var R,S,Ga=document.getElementsByClassName("rclock rclock-bottom")[0],G=document.createElement("button");G.id="offerB";G.innerHTML="Offer berserk";var T=document.createElement("div");Ga.appendChild(T);T.id="div1";T.style.zIndex="100";T.appendChild(G);if(c)R=document.createElement("input"),S=document.createElement("paragraph"),S.innerHTML="<br>&nbsp;Always try \u215b+0",T.appendChild(S),R.id=
"alwaysO",R.type="checkbox",S.appendChild(R),G.innerHTML="Offer \u215b+0",S.id="paragraph";else{R=document.createElement("input");var U=document.createElement("input"),V=document.createElement("input");S=document.createElement("paragraph");var W=document.createElement("paragraph"),X=document.createElement("paragraph");T.appendChild(S);T.appendChild(W);T.appendChild(X);S.innerHTML="<br>&nbsp;Always offer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";W.innerHTML="<br>&nbsp;Berserk back&nbsp;&nbsp;&nbsp;&nbsp;";X.innerHTML=
"<br>&nbsp;Always berserk";S.id="paragraph";W.id="paragraph2";X.id="paragraph3";R.id="alwaysO";R.type="checkbox";U.id="alwaysB";U.type="checkbox";V.id="berB";V.type="checkbox";S.appendChild(R);X.appendChild(U);W.appendChild(V)}var Ha=Fa.className.includes("orientation-black")?"black":"white",Ia=$("input.copyable");0<Ia.length&&(Ha="w"===Ia[0].value.split(" ")[1]?"white":"black");Q&&(Ha=Q.className.includes("clock_bottom")?"white":"black");ba=Ha;I=ba.charAt(0);ca="w"==I?"black":"white";console.log(I);
c?(G.addEventListener("click",J),R.addEventListener("click",function(){O=this.checked;K("aO1",O);O&&L&&H!=Ea&&(J(),console.log("11"))})):(G.addEventListener("click",J),R.addEventListener("click",function(){O=this.checked;K("aO",O);O&&L&&J()}),U.addEventListener("click",function(){E=this.checked;K("aB",E);E&&z()}),V.addEventListener("click",function(){P=this.checked;K("bB",P);e()&&za()}));var oa,pa,v,w,r,t;if(c){oa=document.getElementsByClassName("rclock rclock-top")[0];pa=document.getElementsByClassName("rclock rclock-bottom")[0];
v=oa.getElementsByClassName("time")[0];v.id="topC0";w=pa.getElementsByClassName("time")[0];w.id="botC0";var x=document.createElement("style"),y=document.createElement("style"),qa=document.createElement("style");setTimeout(function(){},0);var g,h,k,l,Y,Z,Ja,Ka,La,Ma,ta,ua,ra=v,sa=w;ta=new MutationObserver(function(){g=document.getElementById("topC0").innerText.slice(3,5);h=document.getElementById("botC0").innerText.slice(3,5);k=document.getElementById("topC0").innerText.slice(6,7);l=document.getElementById("botC0").innerText.slice(6,
7);Y=g-7.5+k/10;Z=h-7.5+l/10;Ja=Math.floor(Y);Ka=Math.floor(Z);La=Math.round(10*(Y-Ja));Ma=Math.round(10*(Z-Ka));r.innerHTML="00<sep>:</sep>0"+Ja+"<tenths><sep>.</sep>"+La+"</tenths>";t.innerHTML="00<sep>:</sep>0"+Ka+"<tenths><sep>.</sep>"+Ma+"</tenths>";x.innerHTML=".rclock-top .bar{width:"+Y/.15+"%;background: #c33;}.rclock-bottom .bar{width:"+Z/.15+"%;background: #c33;}";if(0>=Z){N=Ba.children;for(var a=Ca=0;a<N.length;++a)N[a].className.includes(ca)&&Ca++;1<Ca?(void 0!=document.getElementsByClassName("fbt resign-confirm")[0]&&
(document.getElementsByClassName("fbt resign-confirm")[0].click(),setTimeout(function(){void 0!=document.getElementsByClassName("act-confirm resign")[0]&&(console.log("1"),document.getElementsByClassName("fbt yes ")[0].click())},0)),y.innerHTML="b"==I?'.status { text-indent: -9999px; line-height: 0; } .status::after { content: "Time out \u2022 White is victorious"; text-indent: 0; display: block; line-height: initial; }':'.status { text-indent: -9999px; line-height: 0; } .status::after { content: "Time out \u2022 Black is victorious"; text-indent: 0; display: block; line-height: initial; }'):
(void 0!=document.getElementsByClassName("fbt draw-yes")[0]&&(document.getElementsByClassName("fbt draw-yes")[0].click(),void 0!=document.getElementsByClassName("act-confirm offerDraw")[0]&&document.getElementsByClassName("act-confirm offerDraw")[0].click()),y.innerHTML='.status { text-indent: -9999px; line-height: 0; } .status::after { content: "Time out"; text-indent: 0; display: block; line-height: initial; }');t.innerHTML="00<sep>:</sep>00<tenths><sep>.</sep>0</tenths>";x.innerHTML=".rclock-top .bar{width:"+
Y/.15+"%;background: #c33;}.rclock-bottom .bar{width:0%;background: #c33;}"}if(0>=Y){N=Ba.children;for(a=Da=0;a<N.length;++a)N[a].className.includes(ca)&&Da++;1==Da?(void 0!=document.getElementsByClassName("negotiation draw")[0]&&document.getElementsByClassName("negotiation draw")[0].getElementsByClassName("accept")[0].click(),y.innerHTML='.status { text-indent: -9999px; line-height: 0; } .status::after { content: "Time out \u2022 Black is victorious"; text-indent: 0; display: block; line-height: initial; }'):
y.innerHTML="b"==I?'.status { text-indent: -9999px; line-height: 0; } .status::after { content: "Time out \u2022 Black is victorious"; text-indent: 0; display: block; line-height: initial; }':' .status { text-indent: -9999px; line-height: 0; }.status::after { content: "Time out \u2022 White is victorious"; text-indent: 0; display: block; line-height: initial; }';x.innerHTML=".rclock-top .bar{width:0%;background: #c33;}.rclock-bottom .bar{width:"+Z/.15+"%;background: #c33;}";r.innerHTML="00<sep>:</sep>00<tenths><sep>.</sep>0</tenths>"}});
ua={childList:!0}}H=H.slice(20).toLowerCase();8<H.length&&(H=H.slice(0,8));ya="_"+H;c?(O=M("aO1"),""!=O&&(O="true"==O,(R.checked=O)&&L&&H!=Ea&&J())):(O=M("aO"),""!=O&&(O="true"==O,(R.checked=O)&&L&&J()),E=M("aB"),""!=E&&(E="true"==E,(U.checked=E)&&z()),P=M("bB"),""!=P&&(P="true"==P,(V.checked=P)&&e()&&za()));H==Ea&&(A||wa(),G.innerHTML="Sent..",G.style.backgroundColor="lightgreen");var na=ya.concat("\\|","w"==I?"b":"w");document.addEventListener("mousedown",e)}};